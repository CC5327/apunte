<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.78adc2f5d6e06c18a14a56999ad9831b647b03b18295cf125d5be764b78b28f02e888a3cb285393f0e9c706ab05f34fffe2ac6e1a9364950cde6b401e3f514fd.css integrity="sha512-eK3C9dbgbBihSlaZmtmDG2R7A7GClc8SXVvnZLeLKPAuiIo8soU5Pw6ccGqwXzT//irG4ak2SVDN5rQB4/UU/Q==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Tarea 1: Criptografía - Introducción a la Seguridad Computacional</title><meta name=description content="DCC universidad de Chile"><link rel=canonical href=/tareas/tarea-1/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/logo_redondo.png"><meta name=twitter:title content="Tarea 1: Criptografía"><meta name=twitter:description content="Instrucciones Antes de partir esta tarea, lea la sección de reglas de las tareas.
Preguntas P1: Criptografía Asimétrica En este repositorio encontrará un cifrador de mensajes usando RSA, con problemas de implementación importantes. Al ejecutar este programa, se crean 2 archivos. Uno de ellos es un mensaje aleatorio de largo variable en texto plano, el otro es el mismo mensaje, pero cifrado con una llave generada por el código.
Recuerde instalar los requerimientos de librerías usando el comando pip install -r requirements."><meta name=twitter:site content="@dccuchile"><meta name=twitter:creator content="@dccuchile"><meta property="og:title" content="Tarea 1: Criptografía"><meta property="og:description" content="Instrucciones Antes de partir esta tarea, lea la sección de reglas de las tareas.
Preguntas P1: Criptografía Asimétrica En este repositorio encontrará un cifrador de mensajes usando RSA, con problemas de implementación importantes. Al ejecutar este programa, se crean 2 archivos. Uno de ellos es un mensaje aleatorio de largo variable en texto plano, el otro es el mismo mensaje, pero cifrado con una llave generada por el código.
Recuerde instalar los requerimientos de librerías usando el comando pip install -r requirements."><meta property="og:type" content="article"><meta property="og:url" content="/tareas/tarea-1/"><meta property="og:image" content="/logo_redondo.png"><meta property="article:published_time" content="2020-04-24T10:00:00-03:00"><meta property="article:modified_time" content="2022-04-04T19:55:00-04:00"><meta property="og:site_name" content="Introducción a la Seguridad Computacional"><meta property="article:publisher" content="https://www.facebook.com/DCCUChile"><meta property="article:author" content="https://www.facebook.com/DCCUChile"><meta property="og:locale" content="es_CL"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"\/"},{"@type":"ListItem","position":2,"name":"Tareastarea 1","item":"\/tareastarea-1\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body class="tareas single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 mr-auto" href=/><img class=logo-light src=/images/banner.svg></img>
<img class=logo-dark src=/images/banner_dark.svg></img></a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/cc5327/apunte><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ml-2 sr-only">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=/acerca>Info</a></li><li class=nav-item><a class=nav-link href=/auxiliares/enunciados/auxiliar-1>Auxiliares</a></li><li class=nav-item><a class=nav-link href=/tareas/>Tareas</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Buscar Documentación..." aria-label="Buscar Documentación..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row justify-content-center"><div class="col-md-12 col-lg-10 col-xl-8"><article><div class=blog-header><h1>Tarea 1: Criptografía</h1><p><small>Publicado el 24/04/2020&nbsp;&dash;&nbsp;<strong>Lectura de 4&nbsp;mins</strong></small><p></div><p class=lead></p><h2 id=instrucciones>Instrucciones</h2><p>Antes de partir esta tarea, lea la sección de <a href=../reglas>reglas de las tareas</a>.</p><h2 id=preguntas>Preguntas</h2><h3 id=p1-criptografía-asimétrica>P1: Criptografía Asimétrica</h3><p>En <a href=https://github.com/cc5327/lab1-p1>este repositorio</a> encontrará un cifrador de mensajes usando RSA, con problemas de implementación importantes. Al ejecutar este programa, se crean 2 archivos. Uno de ellos es un mensaje aleatorio de largo variable en texto plano, el otro es el mismo mensaje, pero cifrado con una llave generada por el código.</p><p>Recuerde instalar los requerimientos de librerías usando el comando <code>pip install -r requirements.txt</code>. (La librería <code>criptography</code> )</p><p>a. (30%) Comente el/los problemas de implementación que encuentre en las funciones que implementan RSA. Explique por qué usted encuentra que son problemas.</p><p><strong>Hint</strong>: Puede ser un solo problema. Lo importante es que sea el mismo problema que les permita realizar la parte siguiente.</p><p><strong>Hint 2</strong>: Revise en específico las funciones que implementan la generación de llaves RSA en utils.</p><p>b. (30%) Desarrolle y explique una estrategia que se aproveche de los problemas encontrados en la parte anterior, de forma de <strong>siempre</strong> ser capaz de descifrar los mensajes cifrados generados por la implementación anterior.</p><p>c. (40%) Implemente en código la estrategia desarrollada en la sección anterior.</p><p><strong>Hint:</strong> Las funciones en <code>utils.py</code> y la librería built-in <a href=https://docs.python.org/3/library/decimal.html>Decimal</a> debiesen bastarle para resolver esta pregunta. Para encontrar la llave privada no es necesario usar directamente la librería <code>Criptography</code>, pero necesitará instalarla para que las funciones de <code>utils.py</code> funcionen y para descifrar el mensaje cifrado.</p><p><strong>Otro Hint:</strong> La librería <strong>Decimal</strong> les servirá para realizar operaciones como <code>raíz cuadrada</code>. Para pasar un número de <code>int</code> a <code>Decimal</code>, simplemente pásenlo como primer argumento al constructor de la clase <code>Decimal</code>. También les recomendamos cambiar la <code>precisión</code> de los números en Decimal a un valor grande.:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>decimal</span>
<span class=n>decimal</span><span class=o>.</span><span class=n>getcontext</span><span class=p>()</span><span class=o>.</span><span class=n>prec</span> <span class=o>=</span> <span class=mi>4096</span>
<span class=n>x</span> <span class=o>=</span> <span class=n>decimal</span><span class=o>.</span><span class=n>Decimal</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</code></pre></div><p>Si desean pasar de <code>Decimal</code> a <code>int</code> (las funciones de utils reciben <code>int</code>), basta con que lo casteen como <code>int</code>:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>x_int</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</code></pre></div><h3 id=p2-criptografía-simétrica>P2: Criptografía Simétrica</h3><p>En esta pregunta, programaremos un ataque conocido como <code>Padding Oracle</code>, el cual consiste en aprovecharse del <code>padding</code> que se agrega a mensajes para obtener información del mensaje cifrado, sin necesidad de conocer la llave usada para cifrar.</p><p>Le recomendamos revisar el <a href=../../auxiliares/anexos/padding-oracle>anexo</a> para entender mejor cómo llevar a cabo el ataque.</p><p>Les recomendamos partir la tarea con el código base de <a href=https://github.com/cc5327/lab1-p2>este repositorio</a>.</p><h4 id=servicios-a-atacar>Servicios a atacar</h4><p>Dejamos dos servicios <strong>accesibles usando la VPN del CEC</strong> corriendo en la IP <code>172.17.69.107</code>. El servicio A (puerto 5312) y el servicio B (puerto 5313). Pueden comunicarse directamente a estos servicios usando el código base proporcionado.</p><ul><li>El servicio en el puerto A recibirá un mensaje de ustedes y les entregará directamente un texto en hexadecimal correspondiente al mensaje cifrado en AES-CBC, el cual contiene su mensaje y una contraseña.</li><li>El servicio en el puerto B recibirá el texto hexadecimal correspondiente al mensaje cifrado, y les indicará el mensaje que ustedes le entregaron, o un error en caso de fallo.</li></ul><h4 id=preguntas-1>Preguntas</h4><p>a. (10%) Comente qué ocurre en cada servicio con distintos tipos de entradas. En el caso del servicio A. ¿Qué pasa con el largo de la salida al variar el largo de la entrada? En el caso del servicio B, ¿Qué pasa si varía caracteres del valor recibido de A al enviarlos a B? ¿Qué pasa si envía algo completamente distinto?</p><p>b. (10%) Utilice el código base para crear un programa que envíe un texto al servicio A, reciba su respuesta, envíe esa respuesta al servicio B y reciba la respuesta de este servicio.</p><p>c. (20%) Usando el código anterior, determine una estrategia para calcular el tamaño del bloque usado en el texto cifrado a través de una función que lo calcule de forma automática. Explique justificadamente por qué ocurre esto.</p><p><strong>Hint</strong>: Probablemente ya conozca el tamaño del bloque (más arriba dice que el cifrador es AES el cual tiene un bloque de tamaño fijo). Sin embargo, se busca que expliquen cómo podrían aprovechar las funcionalidades del sistema para determinarlo en casos genéricos, en los que no manejan ese dato.)</p><p>d. (20%) Cree una función que permita descifrar el último carácter del texto cifrado.</p><p>e. (20%) Modifique la función de la parte anterior para descifrar un bloque completo.</p><p>f. (20%) Ejecute satisfactoriamente el ataque descrito en la parte anterior sobre todo el texto cifrado y registre su contenido en el informe de la pregunta.</p></article></div></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Sitio generado con <a href=https://gohugo.io/>Hugo</a> y <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-right"><ul class=list-inline><a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target=_blank rel="license noopener noreferrer" style=display:inline-block>CC BY-SA 4.0<img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></ul></div></div></div></footer><script src=/main.2507c05f91ee016250e43b67b3d342f5a0d9d4dc5264f76cdc4518cd36a9e04cf3022ce8362802e618d8130b6733b53ee845a49e67229eeb3d3e70347db96a2b.js integrity="sha512-JQfAX5HuAWJQ5Dtns9NC9aDZ1NxSZPds3EUYzTap4EzzAizoNigC5hjYEwtnM7U+6EWknmcinus9PnA0fblqKw==" crossorigin=anonymous defer></script><script src=/index.min.95c2fb57984ca6cb1914e6658c1095cc47073a398c805d5ee842114fab739d64b4d5cd0626cda1be56c95e7f8c6e9c4d231866d1065245c873d731a6a7b01c5e.js integrity="sha512-lcL7V5hMpssZFOZljBCVzEcHOjmMgF1e6EIRT6tznWS01c0GJs2hvlbJXn+MbpxNIxhm0QZSRchz1zGmp7AcXg==" crossorigin=anonymous defer></script><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:true,processEnvironments:true},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}};window.addEventListener('load',(event)=>{document.querySelectorAll("mjx-container").forEach(function(x){x.parentElement.classList+='has-jax'})});</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></body></html>